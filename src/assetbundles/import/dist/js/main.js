!function(e){function n(n){for(var t,a,i=n[0],l=n[1],c=n[2],u=0,p=[];u<i.length;u++)a=i[u],s[a]&&p.push(s[a][0]),s[a]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t]);for(d&&d(n);p.length;)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,n=0;n<o.length;n++){for(var r=o[n],t=!0,i=1;i<r.length;i++){var l=r[i];0!==s[l]&&(t=!1)}t&&(o.splice(n--,1),e=a(a.s=r[0]))}return e}var t={},s={main:0},o=[];function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)a.d(r,t,function(n){return e[n]}.bind(null,t));return r},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var d=l;o.push([0,"vendor"]),r()}({"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./resources/sass/Import.scss":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader!./node_modules/postcss-loader/src??embedded!./node_modules/sass-loader/lib/loader.js!./resources/sass/Import.scss ***!
  \*********************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./resources/sass/Import.scss?./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader!./node_modules/postcss-loader/src??embedded!./node_modules/sass-loader/lib/loader.js")},"./resources/js/Import.js":
/*!********************************!*\
  !*** ./resources/js/Import.js ***!
  \********************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _sass_Import_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sass/Import.scss */ "./resources/sass/Import.scss");\n/* harmony import */ var _sass_Import_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sass_Import_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_FileUpload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/FileUpload */ "./resources/js/modules/FileUpload.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\n\nvar Import = function Import() {\n  _classCallCheck(this, Import);\n\n  console.log(\'Hello, world!\');\n  Object(_modules_FileUpload__WEBPACK_IMPORTED_MODULE_1__["onInit"])();\n};\n\nwindow.onload = function () {\n  if (document.querySelector(\'[data-import-plugin]\')) {\n    new Import();\n  }\n};\n\n//# sourceURL=webpack:///./resources/js/Import.js?')},"./resources/js/modules/FileUpload.js":
/*!********************************************!*\
  !*** ./resources/js/modules/FileUpload.js ***!
  \********************************************/
/*! exports provided: onInit */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onInit\", function() { return onInit; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar removeDragData = function removeDragData(e) {\n  if (e.dataTransfer.items) {\n    e.dataTransfer.items.clear();\n  } else {\n    e.dataTransfer.clearData();\n  }\n};\n\nvar FileUpload =\n/*#__PURE__*/\nfunction () {\n  function FileUpload(node) {\n    _classCallCheck(this, FileUpload);\n\n    this.element = node;\n    this.uploadUrl = '/admin/import/upload';\n    this.label = 'Choose a file';\n    this.files = []; // Drag/drop\n\n    this.element.addEventListener('drop', this.dropHandler.bind(this));\n    this.element.addEventListener('dragover', this.dragOverHandler.bind(this)); // Clear\n\n    document.querySelector('[data-import-file-clear]').addEventListener('click', this.clearFiles.bind(this)); // Input type=\"file\"\n\n    this.input = document.querySelector('input[type=\"file\"].FileUpload-input');\n\n    if (this.input) {\n      this.input.addEventListener('change', this.fileSelectHandler.bind(this));\n    }\n  }\n\n  _createClass(FileUpload, [{\n    key: \"upload\",\n    value: function upload() {\n      var formData = new FormData();\n      Array.prototype.forEach.call(this.files, function (f) {\n        formData.append('files[]', f, f.name);\n      });\n      fetch(this.uploadUrl, {\n        method: 'post',\n        credentials: 'same-origin',\n        headers: {\n          'X-Requested-With': 'XMLHttpRequest'\n        },\n        body: formData\n      }).then(function (resp) {\n        return resp.text();\n      }).then(function (data) {\n        var container = document.querySelector('[data-import-file-upload-result]');\n        container.innerHTML = data;\n      });\n    }\n  }, {\n    key: \"fileSelectHandler\",\n    value: function fileSelectHandler(e) {\n      this.input.disabed = true;\n      this.files = e.target.files;\n      this.updateLabel();\n      this.upload();\n    }\n  }, {\n    key: \"dropHandler\",\n    value: function dropHandler(e) {\n      var _this = this;\n\n      console.log(e);\n      e.preventDefault();\n\n      if (e.dataTransfer.items) {\n        Array.prototype.forEach.call(e.dataTransfer.items, function (item) {\n          if (item.kind === 'file') {\n            var file = item.getAsFile();\n\n            _this.files.push(file);\n          }\n        });\n      } else {\n        Array.prototype.forEach.call(e.dataTransfer.files, function (file) {\n          _this.files.push(file);\n        });\n      }\n\n      this.updateLabel();\n      removeDragData(e);\n      this.upload();\n      return;\n    }\n  }, {\n    key: \"dragOverHandler\",\n    value: function dragOverHandler(e) {\n      e.preventDefault();\n      return;\n    }\n  }, {\n    key: \"clearFiles\",\n    value: function clearFiles() {\n      this.files = [];\n      this.updateLabel();\n      document.querySelector('[data-import-file-upload-result]').innerHTML = '';\n    }\n  }, {\n    key: \"updateLabel\",\n    value: function updateLabel() {\n      var _this2 = this;\n\n      this.label = '';\n      var labelSpan = document.querySelector('.FileUpload-input + label>span');\n      var instructionSpan = document.querySelector('[data-import-file-instructions]');\n      var clearSpan = document.querySelector('[data-import-file-clear]');\n\n      if (this.files && this.files.length) {\n        console.log(this.files);\n        Array.prototype.forEach.call(this.files, function (file) {\n          if (_this2.label.length) {\n            _this2.label += ', ';\n          }\n\n          _this2.label += file.name;\n        });\n        instructionSpan.classList.add('hidden');\n        clearSpan.classList.remove('hidden');\n      } else {\n        this.label = 'Choose a file';\n        instructionSpan.classList.remove('hidden');\n        clearSpan.classList.add('hidden');\n      }\n\n      labelSpan.innerText = this.label;\n    }\n  }]);\n\n  return FileUpload;\n}();\n\nvar onInit = function onInit() {\n  var fileUploads = document.querySelectorAll('[data-import-file-upload]');\n\n  if (fileUploads && fileUploads.length) {\n    Array.prototype.forEach.call(fileUploads, function (f) {\n      new FileUpload(f);\n    });\n  }\n};\n\n//# sourceURL=webpack:///./resources/js/modules/FileUpload.js?")},"./resources/sass/Import.scss":
/*!************************************!*\
  !*** ./resources/sass/Import.scss ***!
  \************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('\nvar content = __webpack_require__(/*! !../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader!../../node_modules/postcss-loader/src??embedded!../../node_modules/sass-loader/lib/loader.js!./Import.scss */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./resources/sass/Import.scss");\n\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {"hmr":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack:///./resources/sass/Import.scss?')},0:
/*!**************************************!*\
  !*** multi ./resources/js/Import.js ***!
  \**************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! /Users/abryrath/Union/Library/import/resources/js/Import.js */"./resources/js/Import.js");\n\n\n//# sourceURL=webpack:///multi_./resources/js/Import.js?')}});